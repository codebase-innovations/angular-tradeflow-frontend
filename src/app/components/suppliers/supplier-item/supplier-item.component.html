<mat-card class="mb-25 tagus-card">
  <mat-card-header>
    <h5 class="mb-0">Products</h5>
    <div class="d-flex align-items-center">
      <form class="search-box position-relative me-15 d-none d-md-block" (ngSubmit)="onSearch()">
        <input
          type="text"
          class="input-search d-block"
          placeholder="Search by name or SKU..."
          [(ngModel)]="searchQuery"
          name="searchQuery"
        />
        <button type="submit">
          <i class="ri-search-line"></i>
        </button>
      </form>
      <a mat-flat-button class="default-btn tagus small" routerLink="/createitems">
        <i class="ri-add-fill"></i> Create New
      </a>
    </div>
  </mat-card-header>

  <mat-card-content>
    <div class="mat-elevation-z8 tagus-mat-table">
      <table mat-table [dataSource]="dataSource">
        <!-- Product Name Column -->
        <ng-container matColumnDef="product">
          <th mat-header-cell *matHeaderCellDef class="text-start">Product Name</th>
          <td mat-cell *matCellDef="let element" class="text-start">
            <div class="d-flex align-items-center">
              <mat-checkbox class="me-5"></mat-checkbox>
              <a
                class="d-flex align-items-center product-info"
                (click)="openViewSupplierItemDetail(element)"
              >
                <img [src]="element.product.productImage" alt="product" width="50" height="50" />
                {{ element.product.productName }}
              </a>
            </div>
          </td>
        </ng-container>

        <!-- Category Column -->
        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef>Category</th>
          <td mat-cell *matCellDef="let element">{{ element.category }}</td>
        </ng-container>

        <!-- Price Column -->
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>Price</th>
          <td mat-cell *matCellDef="let element">{{ element.price }}</td>
        </ng-container>

        <!-- Orders Column -->
        <ng-container matColumnDef="orders">
          <th mat-header-cell *matHeaderCellDef>Orders</th>
          <td mat-cell *matCellDef="let element">{{ element.orders }}</td>
        </ng-container>

        <!-- Stock Column -->
        <ng-container matColumnDef="stock">
          <th mat-header-cell *matHeaderCellDef>Stock</th>
          <td mat-cell *matCellDef="let element">{{ element.stock }}</td>
        </ng-container>

        <!-- Size Column -->
        <ng-container matColumnDef="size">
          <th mat-header-cell *matHeaderCellDef>Size</th>
          <td mat-cell *matCellDef="let element">{{ element.size }}</td>
        </ng-container>

        <!-- Colors Column -->
        <ng-container matColumnDef="colors">
          <th mat-header-cell *matHeaderCellDef>Avai.Colors</th>
          <td mat-cell *matCellDef="let element">
            <div class="colors">
              <span
                *ngFor="let color of getColors(element.colors)"
                [class]="color"
                matTooltip="{{ color }}"
                class="color-dot"
              ></span>
            </div>
          </td>
        </ng-container>

        <!-- Rating Column -->
        <ng-container matColumnDef="rating">
          <th mat-header-cell *matHeaderCellDef>Rating</th>
          <td mat-cell *matCellDef="let element">
            <span>{{ element.rating.star }}</span> {{ element.rating.overall }}
          </td>
        </ng-container>

        <!-- Action Column -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let element">
            <button
              type="button"
              mat-button
              class="position-relative dot-btn p-0 bg-transparent border-none"
              [matMenuTriggerFor]="actionMenu"
            >
              <i class="{{ element.action }}"></i>
            </button>
            <mat-menu #actionMenu="matMenu" class="dotMenu two monthMenu" xPosition="before">
              <button
                mat-menu-item
                type="button"
                class="bg-transparent border-none position-relative"
                (click)="openViewSupplierItemDetail(element)"
              >
                <i class="ri-eye-line"></i> View
              </button>
              <button mat-menu-item type="button" class="bg-transparent border-none position-relative">
                <i class="ri-edit-line"></i> Edit
              </button>
              <button mat-menu-item type="button" class="bg-transparent border-none position-relative">
                <i class="ri-share-line"></i> Share
              </button>
              <button mat-menu-item type="button" class="bg-transparent border-none position-relative">
                <i class="ri-link"></i> Get Sharable Link
              </button>
              <button mat-menu-item type="button" class="bg-transparent border-none position-relative">
                <i class="ri-edit-line"></i> Rename
              </button>
              <button mat-menu-item type="button" class="bg-transparent border-none position-relative">
                <i class="ri-delete-bin-line"></i> Remove
              </button>
            </mat-menu>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[10, 15, 20]" showFirstLastButtons></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>
