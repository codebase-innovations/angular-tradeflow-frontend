<div class="breadcrumb-card mb-25 d-md-flex align-items-center justify-content-space-between">
  <h5 class="mb-0">Checkout</h5>
  <ol class="breadcrumb mb-0 ps-0">
    <li class="breadcrumb-item">
      <a routerLink="/">
        <i class="ri-home-8-line"></i>
        Dashboard
      </a>
    </li>
    <li class="breadcrumb-item fw-semibold">Products</li>
    <li class="breadcrumb-item fw-semibold">Checkout</li>
  </ol>
</div>

<div
  class="row justify-content-center"
  [class.component-dark-theme]="themeService.isDark()"
  [class.component-rtl-enabled]="themeService.isRTLEnabled()"
>
  <div class="col-lg-7 col-xl-8 col-md-12">
    <mat-card class="mb-25 tagus-card">
      <mat-card-header>
        <h5 class="mb-0">Shipping Details</h5>
      </mat-card-header>
      <mat-card-content>
        <form class="note-box">
          <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">First Name</label>
              <mat-form-field appearance="fill">
                <i class="ri-user-line"></i>
                <input matInput [(ngModel)]="customerDetails.firstName" name="firstName" placeholder="Enter Name">
              </mat-form-field>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">Last Name</label>
              <mat-form-field appearance="fill">
                <i class="ri-user-line"></i>
                <input matInput [(ngModel)]="customerDetails.lastName" name="lastName" placeholder="Enter Name">
              </mat-form-field>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">Email Address</label>
              <mat-form-field appearance="fill">
                <i class="ri-mail-line"></i>
                <input matInput [(ngModel)]="customerDetails.email" name="email" placeholder="Enter email address">
              </mat-form-field>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">Phone Number</label>
              <mat-form-field appearance="fill">
                <i class="ri-phone-line"></i>
                <input matInput [(ngModel)]="customerDetails.phone" name="phone" placeholder="Enter phone number">
              </mat-form-field>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
              <label class="d-block mb-12 fw-semibold gray-color">Street Address</label>
              <mat-form-field appearance="fill">
                <i class="ri-map-pin-line"></i>
                <input matInput [(ngModel)]="customerDetails.address" name="address" placeholder="Enter your location">
              </mat-form-field>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4">
              <label class="d-block mb-12 fw-semibold gray-color">City</label>
              <mat-form-field appearance="fill">
                <i class="ri-list-ordered"></i>
                <input matInput [(ngModel)]="customerDetails.townCity" name="townCity" placeholder="Enter your town/city">
              </mat-form-field>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4">
              <label class="d-block mb-12 fw-semibold gray-color">State</label>
              <mat-form-field appearance="fill">
                <i class="ri-font-size"></i>
                <input matInput [(ngModel)]="customerDetails.state" name="state" placeholder="Enter your state">
              </mat-form-field>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4">
              <label class="d-block mb-12 fw-semibold gray-color">ZIP Code</label>
              <mat-form-field appearance="fill">
                <i class="ri-hashtag"></i>
                <input matInput [(ngModel)]="customerDetails.zipCode" name="zipCode" placeholder="Enter zip code">
              </mat-form-field>
            </div>
          </div>
        </form>
      </mat-card-content>
    </mat-card>

    <mat-card class="mb-25 tagus-card">
      <mat-card-header>
        <h5 class="mb-0">Billing Address</h5>
      </mat-card-header>
      <mat-card-content>
        <label class="d-block mb-12">
          <input type="checkbox" [(ngModel)]="sameAsShipping" name="sameAsShipping"> Same as shipping
        </label>
        <form class="note-box" *ngIf="!sameAsShipping">
          <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">First Name</label>
              <mat-form-field appearance="fill">
                <i class="ri-user-line"></i>
                <input matInput [(ngModel)]="customerDetails.billingFirstName" name="billingFirstName" placeholder="Enter Name">
              </mat-form-field>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">Last Name</label>
              <mat-form-field appearance="fill">
                <i class="ri-user-line"></i>
                <input matInput [(ngModel)]="customerDetails.billingLastName" name="billingLastName" placeholder="Enter Name">
              </mat-form-field>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">Email Address</label>
              <mat-form-field appearance="fill">
                <i class="ri-mail-line"></i>
                <input matInput [(ngModel)]="customerDetails.billingEmail" name="billingEmail" placeholder="Enter email address">
              </mat-form-field>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">Phone Number</label>
              <mat-form-field appearance="fill">
                <i class="ri-phone-line"></i>
                <input matInput [(ngModel)]="customerDetails.billingPhone" name="billingPhone" placeholder="Enter phone number">
              </mat-form-field>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
              <label class="d-block mb-12 fw-semibold gray-color">Street Address</label>
              <mat-form-field appearance="fill">
                <i class="ri-map-pin-line"></i>
                <input matInput [(ngModel)]="customerDetails.billingAddress" name="billingAddress" placeholder="Enter your location">
              </mat-form-field>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4">
              <label class="d-block mb-12 fw-semibold gray-color">City</label>
              <mat-form-field appearance="fill">
                <i class="ri-list-ordered"></i>
                <input matInput [(ngModel)]="customerDetails.billingTownCity" name="billingTownCity" placeholder="Enter your town/city">
              </mat-form-field>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4">
              <label class="d-block mb-12 fw-semibold gray-color">State</label>
              <mat-form-field appearance="fill">
                <i class="ri-font-size"></i>
                <input matInput [(ngModel)]="customerDetails.billingState" name="billingState" placeholder="Enter your state">
              </mat-form-field>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4">
              <label class="d-block mb-12 fw-semibold gray-color">ZIP Code</label>
              <mat-form-field appearance="fill">
                <i class="ri-hashtag"></i>
                <input matInput [(ngModel)]="customerDetails.billingZipCode" name="billingZipCode" placeholder="Enter zip code">
              </mat-form-field>
            </div>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="col-lg-5 col-xl-4 col-md-12">
    <mat-card class="mb-25 tagus-card">
      <mat-card-header>
        <h5 class="mb-0">Order Summary</h5>
      </mat-card-header>
      <mat-card-content>
        <div class="table-responsive">
          <table class="table">
            <tbody>
              <tr *ngFor="let item of cartItems">
                <td class="text-start">
                  <a routerLink="/" class="d-flex align-items-center product-info">
                    <img [src]="item.image || 'assets/img/recent-orders/product1.jpg'" class="border-radius me-12" width="50" alt="{{ item.name }}">
                    <div class="title">
                      <h5 class="fw-semibold mb-5">{{ item.name }}</h5>
                      <span class="d-block muted-color fw-medium">Color: {{ item.color || 'N/A' }}</span>
                      <span class="d-block muted-color fw-medium">Qty: {{ item.quantity }}</span>
                    </div>
                  </a>
                </td>
                <td class="gray-color fw-semibold">Rs{{ item.price }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <ul class="list ps-0 mb-0 mt-25">
          <li class="gray-color d-flex align-items-center justify-content-space-between">
            Sub Total :
            <span class="fw-semibold">RS {{ getTotal() }}</span>
          </li>
          <li class="gray-color d-flex align-items-center justify-content-space-between">
            Discount :
            <span class="fw-semibold">RS 0.00</span>
          </li>
          <li class="gray-color d-flex align-items-center justify-content-space-between">
            Shipping Charge :
            <span class="fw-semibold">RS 50.00</span>
          </li>
          <li class="gray-color d-flex align-items-center justify-content-space-between">
            Estimated Tax :
            <span class="fw-semibold">RS 0.00</span>
          </li>
          <li class="fw-semibold d-flex align-items-center justify-content-space-between">
            Total :
            <span class="fw-semibold">RS {{ getTotal() + 50 }}</span>
          </li>
        </ul>
      </mat-card-content>
    </mat-card>
    <mat-card class="mb-25 tagus-card">
      <mat-card-header>
        <h5 class="mb-0">Payment Information</h5>
      </mat-card-header>
      <mat-card-content>
        <form class="note-box">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <label class="d-block mb-12 fw-semibold gray-color">Card Number</label>
              <mat-form-field appearance="fill">
                <i class="ri-bank-card-line"></i>
                <input matInput [(ngModel)]="paymentDetails.cardNumber" name="cardNumber" placeholder="MMYY" maxlength="16">
              </mat-form-field>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">Expiration Date</label>
              <mat-form-field appearance="fill">
                <i class="ri-calendar-line"></i>
                <input matInput [(ngModel)]="paymentDetails.expiryDate" name="expiryDate" placeholder="MM/YY">
              </mat-form-field>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <label class="d-block mb-12 fw-semibold gray-color">CVV</label>
              <mat-form-field appearance="fill">
                <i class="ri-lock-line"></i>
                <input matInput [(ngModel)]="paymentDetails.cvv" name="cvv" placeholder="CVV" maxlength="4">
              </mat-form-field>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
              <label class="d-block mb-12 fw-semibold gray-color">Cardholder Name</label>
              <mat-form-field appearance="fill">
                <i class="ri-user-line"></i>
                <input matInput [(ngModel)]="paymentDetails.cardholderName" name="cardholderName" placeholder="Enter name">
              </mat-form-field>
            </div>
          </div>
        </form>
        <button mat-button class="default-btn w-100" (click)="proceedToShipping()">Place Order - Rs{{ getTotal().toFixed(2) }}</button>
        <p class="text-muted mb-12">Your payment information is secure and encrypted</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>